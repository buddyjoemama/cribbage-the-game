define(['jquery', 'mustache', 'mediator', 'ui/ui.deck'], function ($, Mustache, Mediator) {
  'use strict';

  return {
    init: function(deck){
      $.ajax('templates/main.html').done(function(template){
        var rendered = Mustache.render(template, {cards: deck.cards});
        $('#content').html(rendered);

        Mediator.publish('init.complete');
      });
    },
    draw: function(card){
      $('#content div').append(card.name);
    }
  }
});